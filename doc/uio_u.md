## uio_u 相关

### **功能描述**

`uio_u` 是用于执行设备固件升级的命令行工具。通过指定串口设备、固件文件路径和相关参数，用户可以便捷地进行设备固件的升级操作。

---

### **命令格式**

```
uio_u [设备路径] [固件文件路径] [-b 波特率] [-s 舵机ID] [-r 总重试次数] [-hs 握手计数] [-fr 帧重试次数] [-sr 结束标志重试次数] [-l 日志级别]
```

---

### **参数说明**

| 参数                       | 说明                                            | 必填 | 默认值   |
|--------------------------|-----------------------------------------------|----|-------|
| `设备路径`                   | 要连接的串口设备路径（如 `/dev/ttyUSB0` 或 `COM1`）         | 是  | 无     |
| `固件文件路径`                 | 固件文件的路径（如 `/path/to/firmware.bin`）            | 是  | 无     |
| `-b, --baudrate`         | 波特率，设备通信速度（如 `115200`）。支持任意合法波特率值             | 否  | 9600  |
| `-s, --servo_id`         | 舵机 ID，用于指定要升级的舵机 ID。默认为 `0xFF`，表示升级所有舵机。      | 否  | 0xFF  |
| `-r, --total_retry`      | 固件升级的总重试次数，如果任何步骤失败则会重试整个流程                   | 否  | 10    |
| `-hs, --handshake_count` | 握手成功计数阈值，当接收到的握手确认次数达到此值时认为握手成功               | 否  | 5     |
| `-fr, --frame_retry`     | 固件数据帧发送的最大重试次数，每个数据帧发送失败后最多重试 `frame_retry` 次 | 否  | 5     |
| `-sr, --sign_retry`      | 结束标志发送的最大重试次数，用于通知设备固件传输已完成                   | 否  | 5     |
| `-l, --log`              | 设置日志级别。支持：`DEBUG`、`INFO`、`WARN`、`ERROR`       | 否  | DEBUG |

---

### **示例**

#### **基础使用示例**

升级固件，使用 `/dev/ttyUSB0` 设备，波特率为 1000000，固件文件为 `/path/to/firmware.bin`：

```bash
uio_u /dev/ttyUSB0 /home/noodles/CLionProjects/up_core/file/CDS5516_1.0.bin -b 1000000 -s 0x01
```

#### **使用高级参数**

使用 `/dev/ttyUSB0` 设备，固件文件路径为 `/path/to/firmware.bin`，波特率为 `1000000`，
总重试次数为 `10`，握手成功计数阈值为 `5`，固件帧重试次数为 `5`，结束标志重试次数为 `5`，日志级别设置为 `DEBUG`：

```bash
uio_u /dev/ttyUSB0 /home/noodles/CLionProjects/up_core/file/CDS5516_1.0.bin -b 1000000 -r 10 -hs 5 -fr 5 -sr 5 -l DEBUG
```

---

### **日志级别说明**

- **DEBUG**：调试信息，最详细的日志级别，适合调试使用。
- **INFO**：普通运行时信息，适合常规使用。
- **ERROR**：错误信息，表示出现了阻止程序正常运行的问题。

---

### **注意事项**

1. 在使用 `uio_u` 进行固件升级时，请确保指定的设备路径和固件文件路径正确，以避免操作失败。
2. 请根据设备的实际通信需求，正确设置波特率、超时时间等参数，以确保升级过程顺利进行。
3. 如果升级过程中出现问题，请检查日志输出并根据提示进行相应处理。
